"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[1734],{932:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-03-isaac/chapter-06-ros-bridge","title":"Chapter 6: ROS Bridge","description":"Introduction","source":"@site/docs/module-03-isaac/chapter-06-ros-bridge.md","sourceDirName":"module-03-isaac","slug":"/module-03-isaac/chapter-06-ros-bridge","permalink":"/physical-ai-textbook/docs/module-03-isaac/chapter-06-ros-bridge","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-03-isaac/chapter-06-ros-bridge.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7}}');var s=i(4848),t=i(8453);const o={sidebar_position:7},a="Chapter 6: ROS Bridge",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"ROS Bridge Extension",id:"ros-bridge-extension",level:2},{value:"Installation",id:"installation",level:3},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Starting ROS Bridge",id:"starting-ros-bridge",level:3},{value:"Publishing Topics",id:"publishing-topics",level:2},{value:"Publishing Joint States",id:"publishing-joint-states",level:3},{value:"Publishing Sensor Data",id:"publishing-sensor-data",level:3},{value:"Subscribing to Topics",id:"subscribing-to-topics",level:2},{value:"Receiving Commands",id:"receiving-commands",level:3},{value:"Robot Control",id:"robot-control",level:2},{value:"Joint Control via ROS2",id:"joint-control-via-ros2",level:3},{value:"TF Publishing",id:"tf-publishing",level:2},{value:"Publishing Transform Tree",id:"publishing-transform-tree",level:3},{value:"Services",id:"services",level:2},{value:"Providing Services",id:"providing-services",level:3},{value:"Actions",id:"actions",level:2},{value:"Action Server",id:"action-server",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Module Summary",id:"module-summary",level:2},{value:"Next Module",id:"next-module",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"chapter-6-ros-bridge",children:"Chapter 6: ROS Bridge"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"This chapter covers integrating Isaac Sim with ROS2 using the ROS Bridge extension, enabling seamless communication between simulation and ROS2 nodes."}),"\n",(0,s.jsx)(n.h2,{id:"ros-bridge-extension",children:"ROS Bridge Extension"}),"\n",(0,s.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.p,{children:"The ROS Bridge extension is included with Isaac Sim. Enable it in the extension manager or via code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from omni.isaac.core.utils.extensions import enable_extension\r\n\r\nenable_extension("omni.isaac.ros2_bridge")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,s.jsx)(n.h3,{id:"starting-ros-bridge",children:"Starting ROS Bridge"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from omni.isaac.core import SimulationContext\r\nfrom omni.isaac.ros2_bridge import ROS2Bridge\r\n\r\n# Initialize simulation\r\nsimulation_context = SimulationContext()\r\n\r\n# Create ROS bridge\r\nros_bridge = ROS2Bridge()\r\nros_bridge.initialize()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"publishing-topics",children:"Publishing Topics"}),"\n",(0,s.jsx)(n.h3,{id:"publishing-joint-states",children:"Publishing Joint States"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from omni.isaac.ros2_bridge import ROS2Bridge\r\nfrom sensor_msgs.msg import JointState\r\n\r\n# Create publisher\r\nbridge = ROS2Bridge()\r\npublisher = bridge.create_publisher(JointState, "/joint_states")\r\n\r\n# Publish joint states\r\njoint_state = JointState()\r\njoint_state.name = ["joint1", "joint2"]\r\njoint_state.position = [0.5, 1.0]\r\npublisher.publish(joint_state)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"publishing-sensor-data",children:"Publishing Sensor Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from sensor_msgs.msg import Image, LaserScan\r\n\r\n# Camera publisher\r\ncamera_pub = bridge.create_publisher(Image, "/camera/image_raw")\r\n\r\n# LiDAR publisher\r\nlidar_pub = bridge.create_publisher(LaserScan, "/scan")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"subscribing-to-topics",children:"Subscribing to Topics"}),"\n",(0,s.jsx)(n.h3,{id:"receiving-commands",children:"Receiving Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from geometry_msgs.msg import Twist\r\n\r\ndef cmd_vel_callback(msg):\r\n    linear = msg.linear.x\r\n    angular = msg.angular.z\r\n    # Apply to robot\r\n    robot.set_velocity(linear, angular)\r\n\r\n# Create subscriber\r\ncmd_sub = bridge.create_subscription(\r\n    Twist,\r\n    "/cmd_vel",\r\n    cmd_vel_callback\r\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"robot-control",children:"Robot Control"}),"\n",(0,s.jsx)(n.h3,{id:"joint-control-via-ros2",children:"Joint Control via ROS2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from std_msgs.msg import Float64MultiArray\r\n\r\ndef joint_command_callback(msg):\r\n    positions = msg.data\r\n    robot.set_joint_positions(positions)\r\n\r\njoint_sub = bridge.create_subscription(\r\n    Float64MultiArray,\r\n    "/joint_commands",\r\n    joint_command_callback\r\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"tf-publishing",children:"TF Publishing"}),"\n",(0,s.jsx)(n.h3,{id:"publishing-transform-tree",children:"Publishing Transform Tree"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from geometry_msgs.msg import TransformStamped\r\nimport tf2_ros\r\n\r\n# Create TF broadcaster\r\ntf_broadcaster = tf2_ros.TransformBroadcaster()\r\n\r\n# Publish transform\r\ntransform = TransformStamped()\r\ntransform.header.frame_id = "base_link"\r\ntransform.child_frame_id = "camera_link"\r\ntransform.transform.translation.x = 0.1\r\ntransform.transform.translation.y = 0.0\r\ntransform.transform.translation.z = 0.2\r\ntf_broadcaster.sendTransform(transform)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"services",children:"Services"}),"\n",(0,s.jsx)(n.h3,{id:"providing-services",children:"Providing Services"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from std_srvs.srv import SetBool\r\n\r\ndef reset_service_callback(request, response):\r\n    # Reset simulation\r\n    simulation_context.reset()\r\n    response.success = True\r\n    return response\r\n\r\n# Create service\r\nreset_service = bridge.create_service(\r\n    SetBool,\r\n    "/reset_simulation",\r\n    reset_service_callback\r\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(n.h3,{id:"action-server",children:"Action Server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from example_interfaces.action import Fibonacci\r\n\r\ndef execute_fibonacci(goal_handle):\r\n    # Execute action\r\n    result = Fibonacci.Result()\r\n    result.sequence = [0, 1, 1, 2, 3, 5]\r\n    goal_handle.succeed()\r\n    return result\r\n\r\n# Create action server\r\naction_server = bridge.create_action_server(\r\n    Fibonacci,\r\n    "/fibonacci",\r\n    execute_fibonacci\r\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from omni.isaac.kit import SimulationApp\r\nfrom omni.isaac.core import SimulationContext\r\nfrom omni.isaac.ros2_bridge import ROS2Bridge\r\nfrom geometry_msgs.msg import Twist\r\nfrom sensor_msgs.msg import JointState\r\n\r\nsimulation_app = SimulationApp({"headless": False})\r\n\r\n# Initialize\r\nsimulation_context = SimulationContext()\r\nbridge = ROS2Bridge()\r\nbridge.initialize()\r\n\r\n# Create publishers and subscribers\r\njoint_pub = bridge.create_publisher(JointState, "/joint_states")\r\ncmd_sub = bridge.create_subscription(Twist, "/cmd_vel", cmd_vel_callback)\r\n\r\n# Simulation loop\r\nwhile simulation_app.is_running():\r\n    simulation_context.step()\r\n    # Publish joint states\r\n    publish_joint_states()\r\n    rclpy.spin_once(bridge, timeout_sec=0.0)\r\n\r\nsimulation_app.close()\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use appropriate message types"}),"\n",(0,s.jsx)(n.li,{children:"Set correct frame IDs"}),"\n",(0,s.jsx)(n.li,{children:"Handle timing correctly"}),"\n",(0,s.jsx)(n.li,{children:"Test with real ROS2 nodes"}),"\n",(0,s.jsx)(n.li,{children:"Monitor topic bandwidth"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No messages received"}),": Check topic names and types"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timing issues"}),": Adjust simulation timestep"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TF errors"}),": Verify frame hierarchy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance"}),": Optimize publish rates"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"module-summary",children:"Module Summary"}),"\n",(0,s.jsx)(n.p,{children:"Congratulations! You've completed Module 3. You now understand:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Isaac Sim architecture and features"}),"\n",(0,s.jsx)(n.li,{children:"Scene composition and asset management"}),"\n",(0,s.jsx)(n.li,{children:"Physics and rendering configuration"}),"\n",(0,s.jsx)(n.li,{children:"ROS2 integration"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-module",children:"Next Module"}),"\n",(0,s.jsx)(n.p,{children:"In Module 4, we'll explore Vision-Language-Action (VLA) models for embodied AI."})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);