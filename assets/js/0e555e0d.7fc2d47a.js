"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[7434],{7147:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-02-simulation/practical-lab","title":"Chapter 6: Practical Lab - Build Humanoid in Gazebo","description":"Lab Overview","source":"@site/docs/module-02-simulation/06-practical-lab.md","sourceDirName":"module-02-simulation","slug":"/module-02-simulation/practical-lab","permalink":"/physical-ai-textbook/docs/module-02-simulation/practical-lab","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-02-simulation/06-practical-lab.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 5: Unity Integration","permalink":"/physical-ai-textbook/docs/module-02-simulation/unity-integration"},"next":{"title":"Module 3: AI-Powered Perception","permalink":"/physical-ai-textbook/docs/module-03-isaac/intro"}}');var l=e(4848),s=e(8453);const o={sidebar_position:6},t="Chapter 6: Practical Lab - Build Humanoid in Gazebo",a={},c=[{value:"Lab Overview",id:"lab-overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Estimated Time",id:"estimated-time",level:3},{value:"Step 1: Project Setup",id:"step-1-project-setup",level:2},{value:"Create Workspace",id:"create-workspace",level:3},{value:"Directory Structure",id:"directory-structure",level:3},{value:"Step 2: Create Humanoid URDF",id:"step-2-create-humanoid-urdf",level:2},{value:"Step 3: Create World File",id:"step-3-create-world-file",level:2},{value:"Step 4: Create Launch File",id:"step-4-create-launch-file",level:2},{value:"Step 5: Create Python Controller",id:"step-5-create-python-controller",level:2},{value:"Step 6: Build and Launch",id:"step-6-build-and-launch",level:2},{value:"Step 7: Visualize in RViz2",id:"step-7-visualize-in-rviz2",level:2},{value:"Troubleshooting Guide",id:"troubleshooting-guide",level:2},{value:"Issue 1: Robot Doesn&#39;t Spawn",id:"issue-1-robot-doesnt-spawn",level:3},{value:"Issue 2: Robot Falls Through Ground",id:"issue-2-robot-falls-through-ground",level:3},{value:"Issue 3: Sensors Not Publishing",id:"issue-3-sensors-not-publishing",level:3},{value:"Issue 4: Controller Not Working",id:"issue-4-controller-not-working",level:3},{value:"Issue 5: Slow Performance",id:"issue-5-slow-performance",level:3},{value:"Testing Checklist",id:"testing-checklist",level:2},{value:"Advanced Exercises",id:"advanced-exercises",level:2},{value:"Exercise 1: Add More Sensors",id:"exercise-1-add-more-sensors",level:3},{value:"Exercise 2: Implement Balance Control",id:"exercise-2-implement-balance-control",level:3},{value:"Exercise 3: Walking Gait",id:"exercise-3-walking-gait",level:3},{value:"Exercise 4: Object Manipulation",id:"exercise-4-object-manipulation",level:3},{value:"Module 2 Summary",id:"module-2-summary",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"chapter-6-practical-lab---build-humanoid-in-gazebo",children:"Chapter 6: Practical Lab - Build Humanoid in Gazebo"})}),"\n",(0,l.jsx)(r.h2,{id:"lab-overview",children:"Lab Overview"}),"\n",(0,l.jsx)(r.p,{children:"This comprehensive lab guides you through building a complete humanoid robot simulation in Gazebo. By the end, you'll have a fully functional humanoid with sensors, ROS 2 integration, and Python control."}),"\n",(0,l.jsx)(r.h3,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Create a complete humanoid robot URDF/SDF"}),"\n",(0,l.jsx)(r.li,{children:"Add multiple sensors (camera, LiDAR, IMU)"}),"\n",(0,l.jsx)(r.li,{children:"Integrate with ROS 2"}),"\n",(0,l.jsx)(r.li,{children:"Control the robot from Python"}),"\n",(0,l.jsx)(r.li,{children:"Visualize in RViz2"}),"\n",(0,l.jsx)(r.li,{children:"Troubleshoot common issues"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"ROS 2 Humble installed"}),"\n",(0,l.jsx)(r.li,{children:"Gazebo 11 installed"}),"\n",(0,l.jsx)(r.li,{children:"Basic Python knowledge"}),"\n",(0,l.jsx)(r.li,{children:"Completion of previous chapters"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"estimated-time",children:"Estimated Time"}),"\n",(0,l.jsx)(r.p,{children:"4-6 hours"}),"\n",(0,l.jsx)(r.h2,{id:"step-1-project-setup",children:"Step 1: Project Setup"}),"\n",(0,l.jsx)(r.h3,{id:"create-workspace",children:"Create Workspace"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Create workspace\r\nmkdir -p ~/humanoid_ws/src\r\ncd ~/humanoid_ws/src\r\n\r\n# Create package\r\nros2 pkg create --build-type ament_python humanoid_robot \\\r\n    --dependencies rclpy std_msgs sensor_msgs geometry_msgs\n"})}),"\n",(0,l.jsx)(r.h3,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"humanoid_robot/\r\n\u251c\u2500\u2500 package.xml\r\n\u251c\u2500\u2500 setup.py\r\n\u251c\u2500\u2500 setup.cfg\r\n\u251c\u2500\u2500 humanoid_robot/\r\n\u2502   \u251c\u2500\u2500 __init__.py\r\n\u2502   \u251c\u2500\u2500 nodes/\r\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\r\n\u2502   \u2502   \u251c\u2500\u2500 controller.py\r\n\u2502   \u2502   \u2514\u2500\u2500 sensor_processor.py\r\n\u2502   \u2514\u2500\u2500 launch/\r\n\u2502       \u2514\u2500\u2500 humanoid.launch.py\r\n\u251c\u2500\u2500 urdf/\r\n\u2502   \u2514\u2500\u2500 humanoid.urdf\r\n\u251c\u2500\u2500 worlds/\r\n\u2502   \u2514\u2500\u2500 test_world.world\r\n\u2514\u2500\u2500 config/\r\n    \u2514\u2500\u2500 controllers.yaml\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-2-create-humanoid-urdf",children:"Step 2: Create Humanoid URDF"}),"\n",(0,l.jsxs)(r.p,{children:["Create ",(0,l.jsx)(r.code,{children:"urdf/humanoid.urdf"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_robot">\r\n  \r\n  \x3c!-- Material Definitions --\x3e\r\n  <material name="blue">\r\n    <color rgba="0 0 1 1"/>\r\n  </material>\r\n  <material name="skin">\r\n    <color rgba="1 0.8 0.6 1"/>\r\n  </material>\r\n  <material name="black">\r\n    <color rgba="0 0 0 1"/>\r\n  </material>\r\n  \r\n  \x3c!-- Base/Torso --\x3e\r\n  <link name="torso">\r\n    <visual>\r\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.6"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.6"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n      <mass value="10.0"/>\r\n      <inertia ixx="0.4" ixy="0" ixz="0"\r\n               iyy="0.4" iyz="0" izz="0.4"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n      <material name="skin"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0"\r\n               iyy="0.01" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Neck Joint --\x3e\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Upper Arm --\x3e\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.02" ixy="0" ixz="0"\r\n               iyy="0.02" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Shoulder Joint --\x3e\r\n  <joint name="left_shoulder_pitch" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0 0.2" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-3.14" upper="3.14" effort="20" velocity="2.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Forearm --\x3e\r\n  <link name="left_forearm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.3"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.3"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0"\r\n               iyy="0.01" iyz="0" izz="0.005"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Elbow Joint --\x3e\r\n  <joint name="left_elbow" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_forearm"/>\r\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="15" velocity="2.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Hand --\x3e\r\n  <link name="left_hand">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.08 0.1 0.05"/>\r\n      </geometry>\r\n      <material name="skin"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.08 0.1 0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.001" ixy="0" ixz="0"\r\n               iyy="0.001" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Wrist Joint --\x3e\r\n  <joint name="left_wrist" type="revolute">\r\n    <parent link="left_forearm"/>\r\n    <child link="left_hand"/>\r\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="5" velocity="1.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Right Arm (mirror of left) --\x3e\r\n  <link name="right_upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.02" ixy="0" ixz="0"\r\n               iyy="0.02" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  <joint name="right_shoulder_pitch" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="right_upper_arm"/>\r\n    <origin xyz="-0.2 0 0.2" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-3.14" upper="3.14" effort="20" velocity="2.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Add right forearm, hand, and joints similarly --\x3e\r\n  \r\n  \x3c!-- Left Thigh --\x3e\r\n  <link name="left_thigh">\r\n    <visual>\r\n      <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.08" length="0.6"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.08" length="0.6"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n      <mass value="3.0"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0"\r\n               iyy="0.1" iyz="0" izz="0.05"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Hip Joint --\x3e\r\n  <joint name="left_hip_pitch" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_thigh"/>\r\n    <origin xyz="0.1 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="50" velocity="2.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Shank --\x3e\r\n  <link name="left_shank">\r\n    <visual>\r\n      <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.06" length="0.5"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.06" length="0.5"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.05" ixy="0" ixz="0"\r\n               iyy="0.05" iyz="0" izz="0.02"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Knee Joint --\x3e\r\n  <joint name="left_knee" type="revolute">\r\n    <parent link="left_thigh"/>\r\n    <child link="left_shank"/>\r\n    <origin xyz="0 0 -0.6" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="40" velocity="2.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Foot --\x3e\r\n  <link name="left_foot">\r\n    <visual>\r\n      <origin xyz="0 0.1 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.15 0.25 0.05"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0.1 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.15 0.25 0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0.1 0" rpy="0 0 0"/>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0"\r\n               iyy="0.01" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Ankle Joint --\x3e\r\n  <joint name="left_ankle" type="revolute">\r\n    <parent link="left_shank"/>\r\n    <child link="left_foot"/>\r\n    <origin xyz="0 0 -0.5" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-0.5" upper="0.5" effort="20" velocity="1.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Right Leg (mirror of left) --\x3e\r\n  \x3c!-- Add right thigh, shank, foot, and joints similarly --\x3e\r\n  \r\n  \x3c!-- Camera Link --\x3e\r\n  <link name="camera_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.05 0.05 0.05"/>\r\n      </geometry>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.001" ixy="0" ixz="0"\r\n               iyy="0.001" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="head"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0.1 0 0" rpy="0 0 0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- LiDAR Link --\x3e\r\n  <link name="lidar_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.1"/>\r\n      </geometry>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.2"/>\r\n      <inertia ixx="0.001" ixy="0" ixz="0"\r\n               iyy="0.001" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  <joint name="lidar_joint" type="fixed">\r\n    <parent link="torso"/>\r\n    <child link="lidar_link"/>\r\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- IMU Link --\x3e\r\n  <link name="imu_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.02 0.02 0.02"/>\r\n      </geometry>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.01"/>\r\n      <inertia ixx="0.0001" ixy="0" ixz="0"\r\n               iyy="0.0001" iyz="0" izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  <joint name="imu_joint" type="fixed">\r\n    <parent link="torso"/>\r\n    <child link="imu_link"/>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Gazebo Plugins --\x3e\r\n  <gazebo reference="camera_link">\r\n    <sensor type="camera" name="camera1">\r\n      <update_rate>30</update_rate>\r\n      <camera name="head">\r\n        <horizontal_fov>1.047</horizontal_fov>\r\n        <image>\r\n          <width>640</width>\r\n          <height>480</height>\r\n          <format>R8G8B8</format>\r\n        </image>\r\n        <clip>\r\n          <near>0.02</near>\r\n          <far>300</far>\r\n        </clip>\r\n      </camera>\r\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n        <ros>\r\n          <namespace>/camera</namespace>\r\n        </ros>\r\n        <camera_name>camera</camera_name>\r\n        <frame_name>camera_link</frame_name>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n  \r\n  <gazebo reference="lidar_link">\r\n    <sensor type="ray" name="head_lidar">\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <visualize>false</visualize>\r\n      <update_rate>40</update_rate>\r\n      <ray>\r\n        <scan>\r\n          <horizontal>\r\n            <samples>720</samples>\r\n            <resolution>1</resolution>\r\n            <min_angle>-3.14159</min_angle>\r\n            <max_angle>3.14159</max_angle>\r\n          </horizontal>\r\n        </scan>\r\n        <range>\r\n          <min>0.10</min>\r\n          <max>30.0</max>\r\n          <resolution>0.01</resolution>\r\n        </range>\r\n      </ray>\r\n      <plugin name="gazebo_ros_lidar_controller" filename="libgazebo_ros_ray_sensor.so">\r\n        <ros>\r\n          <namespace>/lidar</namespace>\r\n        </ros>\r\n        <output_type>sensor_msgs/LaserScan</output_type>\r\n        <frame_name>lidar_link</frame_name>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n  \r\n  <gazebo reference="imu_link">\r\n    <sensor name="imu_sensor" type="imu">\r\n      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">\r\n        <ros>\r\n          <namespace>/imu</namespace>\r\n        </ros>\r\n        <initial_orientation_as_reference>false</initial_orientation_as_reference>\r\n      </plugin>\r\n      <always_on>true</always_on>\r\n      <update_rate>100</update_rate>\r\n      <visualize>true</visualize>\r\n      <imu>\r\n        <angular_velocity>\r\n          <x>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </x>\r\n          <y>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </y>\r\n          <z>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </z>\r\n        </angular_velocity>\r\n        <linear_acceleration>\r\n          <x>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </x>\r\n          <y>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </y>\r\n          <z>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </z>\r\n        </linear_acceleration>\r\n      </imu>\r\n    </sensor>\r\n  </gazebo>\r\n  \r\n</robot>\n'})}),"\n",(0,l.jsx)(r.h2,{id:"step-3-create-world-file",children:"Step 3: Create World File"}),"\n",(0,l.jsxs)(r.p,{children:["Create ",(0,l.jsx)(r.code,{children:"worlds/test_world.world"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<sdf version="1.6">\r\n  <world name="test_world">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n      <gravity>0 0 -9.81</gravity>\r\n    </physics>\r\n    \r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n      <shadows>true</shadows>\r\n    </scene>\r\n    \r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n    \r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n    \r\n    \x3c!-- Obstacles for testing --\x3e\r\n    <model name="box1">\r\n      <pose>2 0 0.5 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,l.jsx)(r.h2,{id:"step-4-create-launch-file",children:"Step 4: Create Launch File"}),"\n",(0,l.jsxs)(r.p,{children:["Create ",(0,l.jsx)(r.code,{children:"humanoid_robot/launch/humanoid.launch.py"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import ExecuteProcess\r\nfrom launch_ros.actions import Node\r\nimport os\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\ndef generate_launch_description():\r\n    # Get package directory\r\n    pkg_dir = get_package_share_directory('humanoid_robot')\r\n    \r\n    # URDF file\r\n    urdf_file = os.path.join(pkg_dir, 'urdf', 'humanoid.urdf')\r\n    with open(urdf_file, 'r') as f:\r\n        robot_description = f.read()\r\n    \r\n    # World file\r\n    world_file = os.path.join(pkg_dir, 'worlds', 'test_world.world')\r\n    \r\n    return LaunchDescription([\r\n        # Start Gazebo\r\n        ExecuteProcess(\r\n            cmd=['gazebo', '--verbose', world_file, '-s', 'libgazebo_ros_factory.so'],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Robot State Publisher\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            parameters=[{'robot_description': robot_description}],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Spawn Robot\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='spawn_entity.py',\r\n            arguments=['-entity', 'humanoid_robot', '-file', urdf_file, '-z', '1.0'],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Joint State Publisher (for manual control)\r\n        Node(\r\n            package='joint_state_publisher',\r\n            executable='joint_state_publisher',\r\n            name='joint_state_publisher',\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-5-create-python-controller",children:"Step 5: Create Python Controller"}),"\n",(0,l.jsxs)(r.p,{children:["Create ",(0,l.jsx)(r.code,{children:"humanoid_robot/humanoid_robot/nodes/controller.py"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\"\"\"\r\nHumanoid Robot Controller\r\n\r\nControls humanoid robot joints via ROS 2.\r\n\"\"\"\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom std_msgs.msg import Float64MultiArray\r\nimport math\r\nimport time\r\n\r\n\r\nclass HumanoidController(Node):\r\n    def __init__(self):\r\n        super().__init__('humanoid_controller')\r\n        \r\n        # Publisher for joint commands\r\n        self.joint_pub = self.create_publisher(\r\n            JointState,\r\n            '/joint_states',\r\n            10\r\n        )\r\n        \r\n        # Timer for control loop\r\n        self.timer = self.create_timer(0.1, self.control_callback)\r\n        \r\n        # Joint state\r\n        self.joint_positions = {\r\n            'neck_joint': 0.0,\r\n            'left_shoulder_pitch': 0.0,\r\n            'left_elbow': 0.0,\r\n            'right_shoulder_pitch': 0.0,\r\n            'right_elbow': 0.0,\r\n            'left_hip_pitch': 0.0,\r\n            'left_knee': 0.0,\r\n            'right_hip_pitch': 0.0,\r\n            'right_knee': 0.0,\r\n        }\r\n        \r\n        self.time = 0.0\r\n        self.get_logger().info('Humanoid controller started')\r\n    \r\n    def control_callback(self):\r\n        \"\"\"Control loop - creates simple walking motion.\"\"\"\r\n        self.time += 0.1\r\n        \r\n        # Simple walking pattern\r\n        self.joint_positions['left_hip_pitch'] = 0.3 * math.sin(self.time)\r\n        self.joint_positions['right_hip_pitch'] = -0.3 * math.sin(self.time)\r\n        self.joint_positions['left_knee'] = 0.5 * abs(math.sin(self.time))\r\n        self.joint_positions['right_knee'] = 0.5 * abs(math.sin(self.time + math.pi))\r\n        \r\n        # Arm swing\r\n        self.joint_positions['left_shoulder_pitch'] = 0.5 * math.sin(self.time)\r\n        self.joint_positions['right_shoulder_pitch'] = -0.5 * math.sin(self.time)\r\n        \r\n        # Publish joint states\r\n        msg = JointState()\r\n        msg.header.stamp = self.get_clock().now().to_msg()\r\n        msg.name = list(self.joint_positions.keys())\r\n        msg.position = list(self.joint_positions.values())\r\n        \r\n        self.joint_pub.publish(msg)\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    controller = HumanoidController()\r\n    \r\n    try:\r\n        rclpy.spin(controller)\r\n    except KeyboardInterrupt:\r\n        controller.get_logger().info('Shutting down...')\r\n    finally:\r\n        controller.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-6-build-and-launch",children:"Step 6: Build and Launch"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Build package\r\ncd ~/humanoid_ws\r\ncolcon build --packages-select humanoid_robot\r\nsource install/setup.bash\r\n\r\n# Launch simulation\r\nros2 launch humanoid_robot humanoid.launch.py\r\n\r\n# In another terminal, start controller\r\nros2 run humanoid_robot controller\r\n\r\n# In third terminal, start RViz2\r\nrviz2\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-7-visualize-in-rviz2",children:"Step 7: Visualize in RViz2"}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Add RobotModel"}),": Display -> Add -> RobotModel"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["Robot Description: ",(0,l.jsx)(r.code,{children:"robot_description"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Add Camera"}),": Display -> Add -> Image"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["Image Topic: ",(0,l.jsx)(r.code,{children:"/camera/image_raw"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Add LiDAR"}),": Display -> Add -> LaserScan"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["Topic: ",(0,l.jsx)(r.code,{children:"/lidar/scan"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Add IMU"}),": Display -> Add -> Imu"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["Topic: ",(0,l.jsx)(r.code,{children:"/imu/data"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"troubleshooting-guide",children:"Troubleshooting Guide"}),"\n",(0,l.jsx)(r.h3,{id:"issue-1-robot-doesnt-spawn",children:"Issue 1: Robot Doesn't Spawn"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Symptoms"}),": No robot appears in Gazebo"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["Check URDF syntax: ",(0,l.jsx)(r.code,{children:"check_urdf urdf/humanoid.urdf"})]}),"\n",(0,l.jsx)(r.li,{children:"Verify file paths in launch file"}),"\n",(0,l.jsx)(r.li,{children:"Check Gazebo console for errors"}),"\n",(0,l.jsx)(r.li,{children:"Ensure all links have inertial properties"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"issue-2-robot-falls-through-ground",children:"Issue 2: Robot Falls Through Ground"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Symptoms"}),": Robot drops through ground plane"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Check collision geometries"}),"\n",(0,l.jsx)(r.li,{children:"Verify inertial properties"}),"\n",(0,l.jsx)(r.li,{children:"Ensure ground plane is included"}),"\n",(0,l.jsx)(r.li,{children:"Check physics engine settings"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"issue-3-sensors-not-publishing",children:"Issue 3: Sensors Not Publishing"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Symptoms"}),": No data on sensor topics"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Verify plugin filenames are correct"}),"\n",(0,l.jsx)(r.li,{children:"Check frame names match"}),"\n",(0,l.jsx)(r.li,{children:"Ensure sensors are properly attached"}),"\n",(0,l.jsx)(r.li,{children:"Check Gazebo console for plugin errors"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"issue-4-controller-not-working",children:"Issue 4: Controller Not Working"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Symptoms"}),": Joints don't move"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Verify joint names match exactly"}),"\n",(0,l.jsx)(r.li,{children:"Check joint limits"}),"\n",(0,l.jsx)(r.li,{children:"Ensure joint_state_publisher is running"}),"\n",(0,l.jsx)(r.li,{children:"Verify controller is publishing"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"issue-5-slow-performance",children:"Issue 5: Slow Performance"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Symptoms"}),": Simulation runs slowly"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Reduce sensor update rates"}),"\n",(0,l.jsx)(r.li,{children:"Simplify collision geometries"}),"\n",(0,l.jsx)(r.li,{children:"Increase physics step size (carefully)"}),"\n",(0,l.jsx)(r.li,{children:"Close unnecessary applications"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"testing-checklist",children:"Testing Checklist"}),"\n",(0,l.jsxs)(r.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","Robot spawns correctly in Gazebo"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","All links visible and properly connected"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","Camera publishes images"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","LiDAR publishes scans"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","IMU publishes data"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","Controller moves joints"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","RViz2 displays all sensors"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","Robot maintains balance (or falls realistically)"]}),"\n",(0,l.jsxs)(r.li,{className:"task-list-item",children:[(0,l.jsx)(r.input,{type:"checkbox",disabled:!0})," ","No errors in console"]}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"advanced-exercises",children:"Advanced Exercises"}),"\n",(0,l.jsx)(r.h3,{id:"exercise-1-add-more-sensors",children:"Exercise 1: Add More Sensors"}),"\n",(0,l.jsx)(r.p,{children:"Add additional sensors:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Depth camera"}),"\n",(0,l.jsx)(r.li,{children:"Force/torque sensors on feet"}),"\n",(0,l.jsx)(r.li,{children:"Contact sensors"}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"exercise-2-implement-balance-control",children:"Exercise 2: Implement Balance Control"}),"\n",(0,l.jsx)(r.p,{children:"Create a balance controller that keeps the robot upright."}),"\n",(0,l.jsx)(r.h3,{id:"exercise-3-walking-gait",children:"Exercise 3: Walking Gait"}),"\n",(0,l.jsx)(r.p,{children:"Implement a proper walking gait pattern."}),"\n",(0,l.jsx)(r.h3,{id:"exercise-4-object-manipulation",children:"Exercise 4: Object Manipulation"}),"\n",(0,l.jsx)(r.p,{children:"Add grippers and implement object picking."}),"\n",(0,l.jsx)(r.h2,{id:"module-2-summary",children:"Module 2 Summary"}),"\n",(0,l.jsx)(r.p,{children:"Congratulations! You've completed Module 2: Robot Simulation. You now understand:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"\u2705 Gazebo installation and basics"}),"\n",(0,l.jsx)(r.li,{children:"\u2705 URDF vs SDF formats"}),"\n",(0,l.jsx)(r.li,{children:"\u2705 Physics simulation"}),"\n",(0,l.jsx)(r.li,{children:"\u2705 Sensor simulation"}),"\n",(0,l.jsx)(r.li,{children:"\u2705 Unity integration"}),"\n",(0,l.jsx)(r.li,{children:"\u2705 Complete robot simulation setup"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(r.p,{children:"Continue your learning:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"Module 3: AI-Powered Perception"})," - Computer vision and SLAM"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"Module 4: Vision-Language-Action"})," - Natural language control"]}),"\n"]}),"\n",(0,l.jsx)(r.p,{children:"Keep building amazing robots! \ud83e\udd16"})]})}function u(n={}){const{wrapper:r}={...(0,s.R)(),...n.components};return r?(0,l.jsx)(r,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>o,x:()=>t});var i=e(6540);const l={},s=i.createContext(l);function o(n){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function t(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),i.createElement(s.Provider,{value:r},n.children)}}}]);