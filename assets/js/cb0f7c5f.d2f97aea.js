"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[7949],{310:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"projects/project-02-simulation","title":"Project 2: Build Your Own Humanoid","description":"Project Overview","source":"@site/docs/projects/project-02-simulation.md","sourceDirName":"projects","slug":"/projects/project-02-simulation","permalink":"/physical-ai-textbook/docs/projects/project-02-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/projects/project-02-simulation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Project 1: Multi-Robot Communication System","permalink":"/physical-ai-textbook/docs/projects/project-01-ros2-basics"},"next":{"title":"Project 3: Autonomous Navigation System","permalink":"/physical-ai-textbook/docs/projects/project-03-perception"}}');var o=r(4848),t=r(8453);const s={sidebar_position:3},l="Project 2: Build Your Own Humanoid",a={},c=[{value:"Project Overview",id:"project-overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Project Requirements",id:"project-requirements",level:2},{value:"Functional Requirements",id:"functional-requirements",level:3},{value:"Technical Requirements",id:"technical-requirements",level:3},{value:"Step-by-Step Implementation",id:"step-by-step-implementation",level:2},{value:"Step 1: Create ROS 2 Package",id:"step-1-create-ros-2-package",level:3},{value:"Step 2: Create URDF Model",id:"step-2-create-urdf-model",level:3},{value:"Step 3: Create Control Node",id:"step-3-create-control-node",level:3},{value:"Step 4: Create Launch File",id:"step-4-create-launch-file",level:3},{value:"Testing Steps",id:"testing-steps",level:2},{value:"Test 1: URDF Validation",id:"test-1-urdf-validation",level:3},{value:"Test 2: Launch in Gazebo",id:"test-2-launch-in-gazebo",level:3},{value:"Test 3: Joint Control",id:"test-3-joint-control",level:3},{value:"Test 4: Sensor Data",id:"test-4-sensor-data",level:3},{value:"Expected Outputs",id:"expected-outputs",level:2},{value:"Gazebo Visualization",id:"gazebo-visualization",level:3},{value:"ROS 2 Topics",id:"ros-2-topics",level:3},{value:"Grading Rubric",id:"grading-rubric",level:2},{value:"URDF Model (40 points)",id:"urdf-model-40-points",level:3},{value:"Sensors (20 points)",id:"sensors-20-points",level:3},{value:"Control (20 points)",id:"control-20-points",level:3},{value:"ROS 2 Integration (20 points)",id:"ros-2-integration-20-points",level:3},{value:"Extensions",id:"extensions",level:2},{value:"Extension 1: Walking Gait",id:"extension-1-walking-gait",level:3},{value:"Extension 2: Hand Control",id:"extension-2-hand-control",level:3},{value:"Extension 3: Advanced Sensors",id:"extension-3-advanced-sensors",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Robot doesn&#39;t appear in Gazebo",id:"issue-robot-doesnt-appear-in-gazebo",level:3},{value:"Issue: Joints not moving",id:"issue-joints-not-moving",level:3},{value:"Issue: Sensors not publishing",id:"issue-sensors-not-publishing",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"project-2-build-your-own-humanoid",children:"Project 2: Build Your Own Humanoid"})}),"\n",(0,o.jsx)(e.h2,{id:"project-overview",children:"Project Overview"}),"\n",(0,o.jsx)(e.p,{children:"Design and build a complete humanoid robot in Gazebo simulation. This project covers URDF creation, physics simulation, sensor integration, and ROS 2 control."}),"\n",(0,o.jsx)(e.h3,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Create a complete URDF model for a humanoid robot"}),"\n",(0,o.jsx)(e.li,{children:"Understand robot kinematics and dynamics"}),"\n",(0,o.jsx)(e.li,{children:"Integrate sensors (camera, IMU) into the model"}),"\n",(0,o.jsx)(e.li,{children:"Control the robot using ROS 2"}),"\n",(0,o.jsx)(e.li,{children:"Simulate realistic physics behavior"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Completed ",(0,o.jsx)(e.a,{href:"../module-02-simulation/gazebo-intro",children:"Module 2: Simulation & Gazebo"})]}),"\n",(0,o.jsx)(e.li,{children:"Understanding of URDF format"}),"\n",(0,o.jsx)(e.li,{children:"Basic knowledge of robot kinematics"}),"\n",(0,o.jsx)(e.li,{children:"Gazebo installed"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"project-requirements",children:"Project Requirements"}),"\n",(0,o.jsx)(e.h3,{id:"functional-requirements",children:"Functional Requirements"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Humanoid Structure"}),": 2 arms, 2 legs, head, torso"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Joints"}),": At least 12 DOF (degrees of freedom)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Sensors"}),": Camera in head, IMU in torso"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Physics"}),": Realistic mass, inertia, collision geometry"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"ROS 2 Control"}),": Control joints via topics/services"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"technical-requirements",children:"Technical Requirements"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Valid URDF file"}),"\n",(0,o.jsx)(e.li,{children:"Proper link/joint hierarchy"}),"\n",(0,o.jsx)(e.li,{children:"Visual and collision meshes"}),"\n",(0,o.jsx)(e.li,{children:"Gazebo plugins for sensors"}),"\n",(0,o.jsx)(e.li,{children:"ROS 2 control interface"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"step-by-step-implementation",children:"Step-by-Step Implementation"}),"\n",(0,o.jsx)(e.h3,{id:"step-1-create-ros-2-package",children:"Step 1: Create ROS 2 Package"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_cmake humanoid_robot \\\r\n    --dependencies rclpy std_msgs sensor_msgs geometry_msgs\r\ncd ~/ros2_ws\r\ncolcon build --packages-select humanoid_robot\r\nsource install/setup.bash\n"})}),"\n",(0,o.jsx)(e.h3,{id:"step-2-create-urdf-model",children:"Step 2: Create URDF Model"}),"\n",(0,o.jsxs)(e.p,{children:["Create ",(0,o.jsx)(e.code,{children:"humanoid_robot/urdf/humanoid.urdf"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_robot">\r\n\r\n  \x3c!-- Base Link: Torso --\x3e\r\n  <link name="torso">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.6"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.6"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="10.0"/>\r\n      <inertia ixx="0.4" ixy="0.0" ixz="0.0"\r\n               iyy="0.3" iyz="0.0"\r\n               izz="0.5"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n      <material name="white">\r\n        <color rgba="1 1 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Head Joint --\x3e\r\n  <joint name="head_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.35" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Upper Arm --\x3e\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.3"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="1 0 0 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.3"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Shoulder Joint --\x3e\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0.15 0.2" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-3.14" upper="3.14" effort="20" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Forearm --\x3e\r\n  <link name="left_forearm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.25"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="1 0 0 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0"\r\n               iyy="0.005" iyz="0.0"\r\n               izz="0.005"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Elbow Joint --\x3e\r\n  <joint name="left_elbow_joint" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_forearm"/>\r\n    <origin xyz="0 0 -0.175" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="15" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Upper Arm --\x3e\r\n  <link name="right_upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.3"/>\r\n      </geometry>\r\n      <material name="green">\r\n        <color rgba="0 1 0 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.3"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Right Shoulder Joint --\x3e\r\n  <joint name="right_shoulder_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="right_upper_arm"/>\r\n    <origin xyz="0.2 -0.15 0.2" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-3.14" upper="3.14" effort="20" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Forearm --\x3e\r\n  <link name="right_forearm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.25"/>\r\n      </geometry>\r\n      <material name="green">\r\n        <color rgba="0 1 0 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0"\r\n               iyy="0.005" iyz="0.0"\r\n               izz="0.005"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Right Elbow Joint --\x3e\r\n  <joint name="right_elbow_joint" type="revolute">\r\n    <parent link="right_upper_arm"/>\r\n    <child link="right_forearm"/>\r\n    <origin xyz="0 0 -0.175" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="15" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Thigh --\x3e\r\n  <link name="left_thigh">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.4"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="3.0"/>\r\n      <inertia ixx="0.04" ixy="0.0" ixz="0.0"\r\n               iyy="0.04" iyz="0.0"\r\n               izz="0.04"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Hip Joint --\x3e\r\n  <joint name="left_hip_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_thigh"/>\r\n    <origin xyz="0.1 0.1 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="30" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Shank --\x3e\r\n  <link name="left_shank">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.08 0.08 0.35"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.08 0.08 0.35"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0"\r\n               iyy="0.02" iyz="0.0"\r\n               izz="0.02"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Knee Joint --\x3e\r\n  <joint name="left_knee_joint" type="revolute">\r\n    <parent link="left_thigh"/>\r\n    <child link="left_shank"/>\r\n    <origin xyz="0 0 -0.225" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="25" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Thigh --\x3e\r\n  <link name="right_thigh">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.4"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="3.0"/>\r\n      <inertia ixx="0.04" ixy="0.0" ixz="0.0"\r\n               iyy="0.04" iyz="0.0"\r\n               izz="0.04"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Right Hip Joint --\x3e\r\n  <joint name="right_hip_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="right_thigh"/>\r\n    <origin xyz="0.1 -0.1 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="30" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Shank --\x3e\r\n  <link name="right_shank">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.08 0.08 0.35"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.08 0.08 0.35"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0"\r\n               iyy="0.02" iyz="0.0"\r\n               izz="0.02"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Right Knee Joint --\x3e\r\n  <joint name="right_knee_joint" type="revolute">\r\n    <parent link="right_thigh"/>\r\n    <child link="right_shank"/>\r\n    <origin xyz="0 0 -0.225" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="3.14" effort="25" velocity="3.14"/>\r\n  </joint>\r\n\r\n  \x3c!-- Gazebo Plugins --\x3e\r\n  <gazebo>\r\n    <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n      <ros>\r\n        <namespace>/humanoid</namespace>\r\n        <remapping>image_raw:=camera/image_raw</remapping>\r\n        <remapping>camera_info:=camera/camera_info</remapping>\r\n      </ros>\r\n      <camera_name>head_camera</camera_name>\r\n      <frame_name>head_camera_frame</frame_name>\r\n      <hack_baseline>0.07</hack_baseline>\r\n      <min_depth>0.1</min_depth>\r\n      <max_depth>10.0</max_depth>\r\n      <update_rate>30</update_rate>\r\n    </plugin>\r\n  </gazebo>\r\n\r\n  <gazebo reference="head">\r\n    <sensor name="head_camera" type="camera">\r\n      <update_rate>30</update_rate>\r\n      <camera>\r\n        <horizontal_fov>1.047</horizontal_fov>\r\n        <image>\r\n          <width>640</width>\r\n          <height>480</height>\r\n        </image>\r\n        <clip>\r\n          <near>0.1</near>\r\n          <far>10.0</far>\r\n        </clip>\r\n      </camera>\r\n      <always_on>1</always_on>\r\n      <visualize>1</visualize>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  <gazebo reference="torso">\r\n    <sensor name="imu" type="imu">\r\n      <always_on>1</always_on>\r\n      <update_rate>100</update_rate>\r\n      <imu>\r\n        <angular_velocity>\r\n          <x>0.01</x>\r\n          <y>0.01</y>\r\n          <z>0.01</z>\r\n        </angular_velocity>\r\n        <linear_acceleration>\r\n          <x>0.01</x>\r\n          <y>0.01</y>\r\n          <z>0.01</z>\r\n        </linear_acceleration>\r\n      </imu>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- Material Definitions --\x3e\r\n  <material name="blue">\r\n    <color rgba="0 0 1 1"/>\r\n  </material>\r\n  <material name="red">\r\n    <color rgba="1 0 0 1"/>\r\n  </material>\r\n  <material name="green">\r\n    <color rgba="0 1 0 1"/>\r\n  </material>\r\n  <material name="white">\r\n    <color rgba="1 1 1 1"/>\r\n  </material>\r\n\r\n</robot>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"step-3-create-control-node",children:"Step 3: Create Control Node"}),"\n",(0,o.jsxs)(e.p,{children:["Create ",(0,o.jsx)(e.code,{children:"humanoid_robot/humanoid_robot/control_node.py"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\"\"\"\r\nHumanoid Control Node\r\n\r\nControls humanoid robot joints via ROS 2.\r\n\"\"\"\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom std_msgs.msg import Float64MultiArray\r\nimport math\r\n\r\nclass HumanoidControlNode(Node):\r\n    def __init__(self):\r\n        super().__init__('humanoid_control_node')\r\n        \r\n        # Publisher for joint commands\r\n        self.joint_pub = self.create_publisher(\r\n            JointState,\r\n            '/humanoid/joint_commands',\r\n            10\r\n        )\r\n        \r\n        # Timer for control loop\r\n        self.timer = self.create_timer(0.1, self.control_callback)\r\n        \r\n        self.time = 0.0\r\n        self.get_logger().info('Humanoid control node started')\r\n    \r\n    def control_callback(self):\r\n        \"\"\"Control loop: move robot joints.\"\"\"\r\n        self.time += 0.1\r\n        \r\n        # Create joint state message\r\n        joint_msg = JointState()\r\n        joint_msg.header.stamp = self.get_clock().now().to_msg()\r\n        joint_msg.name = [\r\n            'head_joint',\r\n            'left_shoulder_joint',\r\n            'left_elbow_joint',\r\n            'right_shoulder_joint',\r\n            'right_elbow_joint',\r\n            'left_hip_joint',\r\n            'left_knee_joint',\r\n            'right_hip_joint',\r\n            'right_knee_joint'\r\n        ]\r\n        \r\n        # Simple sinusoidal motion\r\n        joint_msg.position = [\r\n            math.sin(self.time) * 0.5,  # Head\r\n            math.sin(self.time * 0.5) * 1.0,  # Left shoulder\r\n            math.sin(self.time * 0.5 + math.pi/4) * 1.0,  # Left elbow\r\n            math.sin(self.time * 0.5 + math.pi) * 1.0,  # Right shoulder\r\n            math.sin(self.time * 0.5 + 3*math.pi/4) * 1.0,  # Right elbow\r\n            math.sin(self.time * 0.3) * 0.5,  # Left hip\r\n            math.sin(self.time * 0.3 + math.pi/2) * 0.8,  # Left knee\r\n            math.sin(self.time * 0.3 + math.pi) * 0.5,  # Right hip\r\n            math.sin(self.time * 0.3 + 3*math.pi/2) * 0.8,  # Right knee\r\n        ]\r\n        \r\n        joint_msg.velocity = [0.0] * len(joint_msg.name)\r\n        joint_msg.effort = [0.0] * len(joint_msg.name)\r\n        \r\n        self.joint_pub.publish(joint_msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = HumanoidControlNode()\r\n    \r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        node.get_logger().info('Shutting down...')\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,o.jsx)(e.h3,{id:"step-4-create-launch-file",children:"Step 4: Create Launch File"}),"\n",(0,o.jsxs)(e.p,{children:["Create ",(0,o.jsx)(e.code,{children:"humanoid_robot/launch/humanoid.launch.py"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom ament_index_python.packages import get_package_share_directory\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    # Get package directory\r\n    pkg_dir = get_package_share_directory('humanoid_robot')\r\n    urdf_file = os.path.join(pkg_dir, 'urdf', 'humanoid.urdf')\r\n    \r\n    # Read URDF\r\n    with open(urdf_file, 'r') as f:\r\n        robot_desc = f.read()\r\n    \r\n    return LaunchDescription([\r\n        # Robot state publisher\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            output='screen',\r\n            parameters=[{'robot_description': robot_desc}]\r\n        ),\r\n        \r\n        # Gazebo\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='gazebo',\r\n            name='gazebo',\r\n            output='screen',\r\n            arguments=['--verbose']\r\n        ),\r\n        \r\n        # Spawn robot in Gazebo\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='spawn_entity.py',\r\n            name='spawn_entity',\r\n            arguments=['-entity', 'humanoid', '-topic', 'robot_description'],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Control node\r\n        Node(\r\n            package='humanoid_robot',\r\n            executable='control_node',\r\n            name='humanoid_control',\r\n            output='screen'\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(e.h2,{id:"testing-steps",children:"Testing Steps"}),"\n",(0,o.jsx)(e.h3,{id:"test-1-urdf-validation",children:"Test 1: URDF Validation"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check URDF syntax\r\ncheck_urdf ~/ros2_ws/src/humanoid_robot/urdf/humanoid.urdf\r\n\r\n# View URDF tree\r\nurdf_to_graphiz ~/ros2_ws/src/humanoid_robot/urdf/humanoid.urdf\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Expected Output"}),": No errors, valid URDF structure."]}),"\n",(0,o.jsx)(e.h3,{id:"test-2-launch-in-gazebo",children:"Test 2: Launch in Gazebo"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Launch robot\r\nros2 launch humanoid_robot humanoid.launch.py\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Gazebo opens"}),"\n",(0,o.jsx)(e.li,{children:"Humanoid robot appears"}),"\n",(0,o.jsx)(e.li,{children:"Robot visible in simulation"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"test-3-joint-control",children:"Test 3: Joint Control"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check joint states\r\nros2 topic echo /joint_states\r\n\r\n# Check control commands\r\nros2 topic echo /humanoid/joint_commands\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Expected Output"}),": Joint positions changing, robot moving."]}),"\n",(0,o.jsx)(e.h3,{id:"test-4-sensor-data",children:"Test 4: Sensor Data"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check camera\r\nros2 topic echo /humanoid/camera/image_raw\r\n\r\n# Check IMU\r\nros2 topic echo /humanoid/imu\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Expected Output"}),": Camera images and IMU data publishing."]}),"\n",(0,o.jsx)(e.h2,{id:"expected-outputs",children:"Expected Outputs"}),"\n",(0,o.jsx)(e.h3,{id:"gazebo-visualization",children:"Gazebo Visualization"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Humanoid robot with:","\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Blue torso"}),"\n",(0,o.jsx)(e.li,{children:"White head"}),"\n",(0,o.jsx)(e.li,{children:"Red left arm"}),"\n",(0,o.jsx)(e.li,{children:"Green right arm"}),"\n",(0,o.jsx)(e.li,{children:"Blue legs"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.li,{children:"Robot performing simple movements"}),"\n",(0,o.jsx)(e.li,{children:"Camera view in head"}),"\n",(0,o.jsx)(e.li,{children:"IMU data from torso"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"ros-2-topics",children:"ROS 2 Topics"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"/humanoid/camera/image_raw\r\n/humanoid/camera/camera_info\r\n/humanoid/imu\r\n/joint_states\r\n/humanoid/joint_commands\n"})}),"\n",(0,o.jsx)(e.h2,{id:"grading-rubric",children:"Grading Rubric"}),"\n",(0,o.jsx)(e.h3,{id:"urdf-model-40-points",children:"URDF Model (40 points)"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Structure"})," (15 points): Proper link/joint hierarchy"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Visual"})," (10 points): Visual geometry defined"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Collision"})," (10 points): Collision geometry defined"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Physics"})," (5 points): Mass and inertia properties"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"sensors-20-points",children:"Sensors (20 points)"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Camera"})," (10 points): Camera sensor working"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"IMU"})," (10 points): IMU sensor working"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"control-20-points",children:"Control (20 points)"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Joint Control"})," (10 points): Joints controllable"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Movement"})," (10 points): Robot moves realistically"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"ros-2-integration-20-points",children:"ROS 2 Integration (20 points)"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Topics"})," (10 points): All topics publishing"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Launch File"})," (10 points): Launch file works correctly"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"extensions",children:"Extensions"}),"\n",(0,o.jsx)(e.h3,{id:"extension-1-walking-gait",children:"Extension 1: Walking Gait"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Implement walking pattern"}),"\n",(0,o.jsx)(e.li,{children:"Balance control"}),"\n",(0,o.jsx)(e.li,{children:"Stable locomotion"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"extension-2-hand-control",children:"Extension 2: Hand Control"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Add hands with fingers"}),"\n",(0,o.jsx)(e.li,{children:"Grasping simulation"}),"\n",(0,o.jsx)(e.li,{children:"Object manipulation"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"extension-3-advanced-sensors",children:"Extension 3: Advanced Sensors"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"LIDAR sensor"}),"\n",(0,o.jsx)(e.li,{children:"Force/torque sensors"}),"\n",(0,o.jsx)(e.li,{children:"Tactile sensors"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(e.h3,{id:"issue-robot-doesnt-appear-in-gazebo",children:"Issue: Robot doesn't appear in Gazebo"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Solution"}),": Check URDF syntax, verify launch file paths."]}),"\n",(0,o.jsx)(e.h3,{id:"issue-joints-not-moving",children:"Issue: Joints not moving"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Solution"}),": Verify joint names match, check control node is running."]}),"\n",(0,o.jsx)(e.h3,{id:"issue-sensors-not-publishing",children:"Issue: Sensors not publishing"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Solution"}),": Check Gazebo plugins, verify sensor configuration."]}),"\n",(0,o.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"/physical-ai-textbook/docs/projects/project-03-perception",children:"Project 3: Autonomous Navigation System"})," - Perception project"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"../module-03-isaac/free-alternatives",children:"Module 3: AI-Powered Perception"})," - Learn perception"]}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Congratulations!"})," You've built a complete humanoid robot in simulation! \ud83e\udd16"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>l});var i=r(6540);const o={},t=i.createContext(o);function s(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);