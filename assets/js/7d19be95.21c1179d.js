"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[857],{5785:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"projects/project-02-simulation-setup","title":"Project 2: Simulation Setup","description":"Objective","source":"@site/docs/projects/project-02-simulation-setup.md","sourceDirName":"projects","slug":"/projects/project-02-simulation-setup","permalink":"/physical-ai-textbook/docs/projects/project-02-simulation-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/projects/project-02-simulation-setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3}}');var o=r(4848),t=r(8453);const a={sidebar_position:3},l="Project 2: Simulation Setup",s={},c=[{value:"Objective",id:"objective",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Step 1: Create Robot URDF",id:"step-1-create-robot-urdf",level:2},{value:"Step 2: Gazebo Plugins",id:"step-2-gazebo-plugins",level:2},{value:"Step 3: World File",id:"step-3-world-file",level:2},{value:"Step 4: Launch File",id:"step-4-launch-file",level:2},{value:"Step 5: Run Simulation",id:"step-5-run-simulation",level:2},{value:"Testing",id:"testing",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Next Project",id:"next-project",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"project-2-simulation-setup",children:"Project 2: Simulation Setup"})}),"\n",(0,o.jsx)(n.h2,{id:"objective",children:"Objective"}),"\n",(0,o.jsx)(n.p,{children:"Create a complete simulation environment in Gazebo with a custom robot, sensors, and a world for testing and development."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Completion of Module 1 and Module 2"}),"\n",(0,o.jsx)(n.li,{children:"Gazebo installed"}),"\n",(0,o.jsx)(n.li,{children:"Basic understanding of URDF"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"simulation_package/\r\n\u251c\u2500\u2500 urdf/\r\n\u2502   \u251c\u2500\u2500 robot.urdf\r\n\u2502   \u2514\u2500\u2500 robot.gazebo\r\n\u251c\u2500\u2500 worlds/\r\n\u2502   \u2514\u2500\u2500 test_world.world\r\n\u251c\u2500\u2500 launch/\r\n\u2502   \u2514\u2500\u2500 simulation.launch.py\r\n\u2514\u2500\u2500 config/\r\n    \u2514\u2500\u2500 controllers.yaml\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-1-create-robot-urdf",children:"Step 1: Create Robot URDF"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"urdf/robot.urdf"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_robot">\r\n  \x3c!-- Base Link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.2"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.4 0.3 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Wheel --\x3e\r\n  <link name="left_wheel">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.1" length="0.05"/>\r\n      </geometry>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.1" length="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Right Wheel --\x3e\r\n  <link name="right_wheel">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.1" length="0.05"/>\r\n      </geometry>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.1" length="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Joints --\x3e\r\n  <joint name="left_wheel_joint" type="continuous">\r\n    <parent link="base_link"/>\r\n    <child link="left_wheel"/>\r\n    <origin xyz="0 0.2 0" rpy="1.57 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n  </joint>\r\n\r\n  <joint name="right_wheel_joint" type="continuous">\r\n    <parent link="base_link"/>\r\n    <child link="right_wheel"/>\r\n    <origin xyz="0 -0.2 0" rpy="1.57 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n  </joint>\r\n\r\n  \x3c!-- Camera Link --\x3e\r\n  <link name="camera_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.05 0.05 0.05"/>\r\n      </geometry>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0.2 0 0.1" rpy="0 0 0"/>\r\n  </joint>\r\n</robot>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"step-2-gazebo-plugins",children:"Step 2: Gazebo Plugins"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"urdf/robot.gazebo"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot>\r\n  \x3c!-- Differential Drive Plugin --\x3e\r\n  <gazebo>\r\n    <plugin name="differential_drive_controller" filename="libgazebo_ros_diff_drive.so">\r\n      <ros>\r\n        <namespace>/</namespace>\r\n      </ros>\r\n      <wheel_separation>0.4</wheel_separation>\r\n      <wheel_diameter>0.2</wheel_diameter>\r\n      <max_wheel_torque>20</max_wheel_torque>\r\n      <command_topic>cmd_vel</command_topic>\r\n      <publish_odom>true</publish_odom>\r\n      <odom_topic>odom</odom_topic>\r\n      <odom_frame_id>odom</odom_frame_id>\r\n      <robot_base_frame>base_link</robot_base_frame>\r\n    </plugin>\r\n  </gazebo>\r\n\r\n  \x3c!-- Camera Plugin --\x3e\r\n  <gazebo reference="camera_link">\r\n    <sensor type="camera" name="camera1">\r\n      <update_rate>30</update_rate>\r\n      <camera name="head">\r\n        <horizontal_fov>1.047</horizontal_fov>\r\n        <image>\r\n          <width>640</width>\r\n          <height>480</height>\r\n          <format>R8G8B8</format>\r\n        </image>\r\n        <clip>\r\n          <near>0.02</near>\r\n          <far>300</far>\r\n        </clip>\r\n      </camera>\r\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n        <ros>\r\n          <namespace>/camera</namespace>\r\n        </ros>\r\n        <camera_name>camera</camera_name>\r\n        <frame_name>camera_link</frame_name>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n</robot>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"step-3-world-file",children:"Step 3: World File"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"worlds/test_world.world"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<sdf version="1.6">\r\n  <world name="test_world">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n    </physics>\r\n\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n    </scene>\r\n\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n\r\n    \x3c!-- Obstacles --\x3e\r\n    <model name="box1">\r\n      <pose>2 0 0.5 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"step-4-launch-file",children:"Step 4: Launch File"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"launch/simulation.launch.py"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import ExecuteProcess\r\nimport os\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\ndef generate_launch_description():\r\n    urdf_file = os.path.join(\r\n        get_package_share_directory('simulation_package'),\r\n        'urdf',\r\n        'robot.urdf'\r\n    )\r\n    \r\n    world_file = os.path.join(\r\n        get_package_share_directory('simulation_package'),\r\n        'worlds',\r\n        'test_world.world'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        # Start Gazebo\r\n        ExecuteProcess(\r\n            cmd=['gazebo', '--verbose', world_file, '-s', 'libgazebo_ros_factory.so'],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Spawn robot\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='spawn_entity.py',\r\n            arguments=['-entity', 'my_robot', '-file', urdf_file],\r\n            output='screen'\r\n        ),\r\n        \r\n        # Robot state publisher\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            arguments=[urdf_file],\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-5-run-simulation",children:"Step 5: Run Simulation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Build package\r\ncolcon build --packages-select simulation_package\r\nsource install/setup.bash\r\n\r\n# Launch simulation\r\nros2 launch simulation_package simulation.launch.py\r\n\r\n# Control robot\r\nros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.5}, angular: {z: 0.2}}"\r\n\r\n# View camera\r\nros2 run rqt_image_view rqt_image_view /camera/image_raw\n'})}),"\n",(0,o.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Verify robot spawns correctly"}),"\n",(0,o.jsx)(n.li,{children:"Test differential drive control"}),"\n",(0,o.jsx)(n.li,{children:"Check camera feed"}),"\n",(0,o.jsx)(n.li,{children:"Navigate around obstacles"}),"\n",(0,o.jsx)(n.li,{children:"Monitor odometry"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add LiDAR sensor"}),"\n",(0,o.jsx)(n.li,{children:"Implement SLAM"}),"\n",(0,o.jsx)(n.li,{children:"Add manipulator arm"}),"\n",(0,o.jsx)(n.li,{children:"Create more complex world"}),"\n",(0,o.jsx)(n.li,{children:"Add multiple robots"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"next-project",children:"Next Project"}),"\n",(0,o.jsx)(n.p,{children:"Ready for Project 3: VLA Integration!"})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var i=r(6540);const o={},t=i.createContext(o);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);