"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[1869],{7646:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"module-02-simulation/chapter-06-advanced-simulation","title":"Chapter 6: Advanced Simulation","description":"Introduction","source":"@site/docs/module-02-simulation/chapter-06-advanced-simulation.md","sourceDirName":"module-02-simulation","slug":"/module-02-simulation/chapter-06-advanced-simulation","permalink":"/physical-ai-textbook/docs/module-02-simulation/chapter-06-advanced-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-02-simulation/chapter-06-advanced-simulation.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7}}');var s=i(4848),r=i(8453);const a={sidebar_position:7},o="Chapter 6: Advanced Simulation",t={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Reducing Computational Load",id:"reducing-computational-load",level:3},{value:"Multi-threading",id:"multi-threading",level:3},{value:"Custom Plugins",id:"custom-plugins",level:2},{value:"Creating a Plugin",id:"creating-a-plugin",level:3},{value:"Using Plugins",id:"using-plugins",level:3},{value:"ROS2 Integration",id:"ros2-integration",level:2},{value:"Gazebo ROS2 Control",id:"gazebo-ros2-control",level:3},{value:"Publishing Sensor Data",id:"publishing-sensor-data",level:3},{value:"Recording and Playback",id:"recording-and-playback",level:2},{value:"Recording",id:"recording",level:3},{value:"Playback",id:"playback",level:3},{value:"Headless Mode",id:"headless-mode",level:2},{value:"Distributed Simulation",id:"distributed-simulation",level:2},{value:"Debugging",id:"debugging",level:2},{value:"Visualization Tools",id:"visualization-tools",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"Integration with CI/CD",id:"integration-with-cicd",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Module Summary",id:"module-summary",level:2},{value:"Next Module",id:"next-module",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"chapter-6-advanced-simulation",children:"Chapter 6: Advanced Simulation"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"This chapter covers advanced simulation techniques, optimization strategies, custom plugins, and integration with other tools for production-ready simulations."}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"reducing-computational-load",children:"Reducing Computational Load"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Simplify collision geometries"}),"\n",(0,s.jsx)(n.li,{children:"Use level-of-detail (LOD) models"}),"\n",(0,s.jsx)(n.li,{children:"Reduce sensor update rates when possible"}),"\n",(0,s.jsx)(n.li,{children:"Limit number of dynamic objects"}),"\n",(0,s.jsx)(n.li,{children:"Use static objects where appropriate"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"multi-threading",children:"Multi-threading"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo can utilize multiple CPU cores:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<threads>\r\n  <thread>\r\n    <thread_id>0</thread_id>\r\n    <thread_name>physics</thread_name>\r\n  </thread>\r\n</threads>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-plugins",children:"Custom Plugins"}),"\n",(0,s.jsx)(n.h3,{id:"creating-a-plugin",children:"Creating a Plugin"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"#include <gazebo/gazebo.hh>\r\n#include <gazebo/physics/physics.hh>\r\n\r\nnamespace gazebo {\r\nclass MyPlugin : public ModelPlugin {\r\npublic:\r\n    void Load(physics::ModelPtr _parent, sdf::ElementPtr _sdf) {\r\n        this->model = _parent;\r\n        this->updateConnection = event::Events::ConnectWorldUpdateBegin(\r\n            std::bind(&MyPlugin::OnUpdate, this));\r\n    }\r\n\r\n    void OnUpdate() {\r\n        // Plugin logic here\r\n    }\r\n\r\nprivate:\r\n    physics::ModelPtr model;\r\n    event::ConnectionPtr updateConnection;\r\n};\r\n\r\nGZ_REGISTER_MODEL_PLUGIN(MyPlugin)\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"using-plugins",children:"Using Plugins"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<plugin name="my_plugin" filename="libmy_plugin.so">\r\n  <param1>value1</param1>\r\n  <param2>value2</param2>\r\n</plugin>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ros2-integration",children:"ROS2 Integration"}),"\n",(0,s.jsx)(n.h3,{id:"gazebo-ros2-control",children:"Gazebo ROS2 Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<gazebo>\r\n  <plugin name="gazebo_ros2_control" filename="libgazebo_ros2_control.so">\r\n    <parameters>$(find my_robot)/config/controllers.yaml</parameters>\r\n  </plugin>\r\n</gazebo>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"publishing-sensor-data",children:"Publishing Sensor Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom sensor_msgs.msg import Image\r\nfrom gazebo_msgs.srv import GetImage\r\n\r\nclass SensorPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('sensor_publisher')\r\n        self.publisher_ = self.create_publisher(Image, 'camera/image', 10)\r\n        self.client = self.create_client(GetImage, '/gazebo/get_image')\n"})}),"\n",(0,s.jsx)(n.h2,{id:"recording-and-playback",children:"Recording and Playback"}),"\n",(0,s.jsx)(n.h3,{id:"recording",children:"Recording"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 bag record /topic1 /topic2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"playback",children:"Playback"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 bag play my_bag\n"})}),"\n",(0,s.jsx)(n.h2,{id:"headless-mode",children:"Headless Mode"}),"\n",(0,s.jsx)(n.p,{children:"Run Gazebo without GUI for faster execution:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo --headless world_file.world\n"})}),"\n",(0,s.jsx)(n.h2,{id:"distributed-simulation",children:"Distributed Simulation"}),"\n",(0,s.jsx)(n.p,{children:"Run different components on different machines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Physics on one machine"}),"\n",(0,s.jsx)(n.li,{children:"Rendering on another"}),"\n",(0,s.jsx)(n.li,{children:"Sensors on separate nodes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsx)(n.h3,{id:"visualization-tools",children:"Visualization Tools"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"gz topic"}),": Monitor topics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"gz log"}),": View log files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"gz stats"}),": Performance metrics"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simulation too slow"}),": Reduce step size, simplify models"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Unstable physics"}),": Adjust solver parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Missing models"}),": Check GAZEBO_MODEL_PATH"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Plugin errors"}),": Verify plugin paths and dependencies"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-cicd",children:"Integration with CI/CD"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# GitHub Actions example\r\n- name: Run Gazebo Tests\r\n  run: |\r\n    source /opt/ros/humble/setup.bash\r\n    gazebo --headless test_world.world\r\n    ros2 run my_package test_node\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Version control world files"}),"\n",(0,s.jsx)(n.li,{children:"Document plugin configurations"}),"\n",(0,s.jsx)(n.li,{children:"Test with different physics engines"}),"\n",(0,s.jsx)(n.li,{children:"Profile performance regularly"}),"\n",(0,s.jsx)(n.li,{children:"Use realistic parameters"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"module-summary",children:"Module Summary"}),"\n",(0,s.jsx)(n.p,{children:"Congratulations! You've completed Module 2. You now understand:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gazebo fundamentals"}),"\n",(0,s.jsx)(n.li,{children:"Robot model creation"}),"\n",(0,s.jsx)(n.li,{children:"Sensors and actuators"}),"\n",(0,s.jsx)(n.li,{children:"Physics configuration"}),"\n",(0,s.jsx)(n.li,{children:"Environment building"}),"\n",(0,s.jsx)(n.li,{children:"Advanced simulation techniques"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-module",children:"Next Module"}),"\n",(0,s.jsx)(n.p,{children:"In Module 3, we'll explore NVIDIA Isaac Sim, a high-fidelity simulation platform for robotics."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var l=i(6540);const s={},r=l.createContext(s);function a(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);