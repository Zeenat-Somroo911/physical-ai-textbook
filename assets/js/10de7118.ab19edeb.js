"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[2710],{8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}},8482:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module-01-ros2/introduction","title":"Chapter 1: Introduction to ROS 2","description":"What is ROS 2?","source":"@site/docs/module-01-ros2/01-introduction.md","sourceDirName":"module-01-ros2","slug":"/module-01-ros2/introduction","permalink":"/physical-ai-textbook/docs/module-01-ros2/introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-01-ros2/01-introduction.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: ROS2 Fundamentals","permalink":"/physical-ai-textbook/docs/module-01-ros2/intro"},"next":{"title":"Chapter 2: Nodes and Topics","permalink":"/physical-ai-textbook/docs/module-01-ros2/nodes-topics"}}');var i=r(4848),l=r(8453);const t={sidebar_position:1},o="Chapter 1: Introduction to ROS 2",a={},d=[{value:"What is ROS 2?",id:"what-is-ros-2",level:2},{value:"Evolution from ROS 1",id:"evolution-from-ros-1",level:3},{value:"Key Improvements",id:"key-improvements",level:3},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Architecture Components",id:"architecture-components",level:3},{value:"DDS (Data Distribution Service)",id:"dds-data-distribution-service",level:3},{value:"Installation Guide for Ubuntu 22.04",id:"installation-guide-for-ubuntu-2204",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install ROS 2 Humble",id:"install-ros-2-humble",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Common Installation Issues",id:"common-installation-issues",level:3},{value:"Your First &quot;Hello World&quot; Node",id:"your-first-hello-world-node",level:2},{value:"Step 1: Create Workspace",id:"step-1-create-workspace",level:3},{value:"Step 2: Create Package",id:"step-2-create-package",level:3},{value:"Step 3: Create Node",id:"step-3-create-node",level:3},{value:"Step 4: Make Executable",id:"step-4-make-executable",level:3},{value:"Step 5: Update setup.py",id:"step-5-update-setuppy",level:3},{value:"Step 6: Build and Run",id:"step-6-build-and-run",level:3},{value:"Step 7: Test the Node",id:"step-7-test-the-node",level:3},{value:"Code Explanation",id:"code-explanation",level:2},{value:"1. Import Statements",id:"1-import-statements",level:3},{value:"2. Node Class",id:"2-node-class",level:3},{value:"3. Publisher",id:"3-publisher",level:3},{value:"4. Timer",id:"4-timer",level:3},{value:"5. Main Function",id:"5-main-function",level:3},{value:"Key Concepts Summary",id:"key-concepts-summary",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Messages",id:"messages",level:3},{value:"Common Errors and Solutions",id:"common-errors-and-solutions",level:2},{value:"Error 1: &quot;Node name already exists&quot;",id:"error-1-node-name-already-exists",level:3},{value:"Error 2: &quot;rclpy.init() not called&quot;",id:"error-2-rclpyinit-not-called",level:3},{value:"Error 3: &quot;Topic not found&quot;",id:"error-3-topic-not-found",level:3},{value:"Error 4: &quot;Import error&quot;",id:"error-4-import-error",level:3},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Modify Hello World",id:"exercise-1-modify-hello-world",level:3},{value:"Exercise 2: Create a Subscriber",id:"exercise-2-create-a-subscriber",level:3},{value:"Exercise 3: Custom Message",id:"exercise-3-custom-message",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-1-introduction-to-ros-2",children:"Chapter 1: Introduction to ROS 2"})}),"\n",(0,i.jsx)(n.h2,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 (Robot Operating System 2) is the next-generation framework for building robotic applications. Unlike its predecessor ROS 1, ROS 2 was designed from the ground up to address modern robotics challenges including real-time performance, security, multi-robot systems, and cross-platform compatibility."}),"\n",(0,i.jsx)(n.h3,{id:"evolution-from-ros-1",children:"Evolution from ROS 1"}),"\n",(0,i.jsx)(n.p,{children:"ROS 1, released in 2010, revolutionized robotics development but had several limitations:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Single master node"}),": Created a single point of failure"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Limited real-time support"}),": Not suitable for safety-critical applications"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No built-in security"}),": Vulnerable to network attacks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Platform limitations"}),": Primarily Linux-focused"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 addresses these issues by:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Distributed architecture"}),": No single master, uses DDS (Data Distribution Service)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time capable"}),": Supports deterministic execution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Built-in security"}),": DDS Security extensions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cross-platform"}),": Works on Linux, Windows, macOS, and embedded systems"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"key-improvements",children:"Key Improvements"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"DDS Middleware"}),": Replaces custom TCPROS/UDPROS with industry-standard DDS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Quality of Service (QoS)"}),": Fine-grained control over communication reliability"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lifecycle Nodes"}),": Structured node state management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Composition"}),": Runtime node composition for better performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type System"}),": Improved type safety and introspection"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 follows a layered architecture that separates concerns and enables flexibility:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"graph TB\r\n    A[Application Layer] --\x3e B[ROS 2 Client Library rclpy/rclcpp]\r\n    B --\x3e C[ROS 2 Middleware Interface rcl]\r\n    C --\x3e D[DDS Implementation]\r\n    D --\x3e E[Network/Transport Layer]\r\n    \r\n    F[ROS 2 Tools] --\x3e B\r\n    G[ROS 2 Services] --\x3e B\r\n    \r\n    style A fill:#e1f5ff\r\n    style B fill:#b3e5fc\r\n    style C fill:#81d4fa\r\n    style D fill:#4fc3f7\r\n    style E fill:#29b6f6\n"})}),"\n",(0,i.jsx)(n.h3,{id:"architecture-components",children:"Architecture Components"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Application Layer"}),": Your robot code (nodes, publishers, subscribers)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 Client Libraries"}),": Language-specific APIs (rclpy for Python, rclcpp for C++)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 Middleware Interface (rcl)"}),": Abstraction layer over DDS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"DDS Implementation"}),": Communication middleware (FastDDS, CycloneDDS, RTI Connext)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Transport Layer"}),": TCP/UDP, shared memory, or other transports"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"dds-data-distribution-service",children:"DDS (Data Distribution Service)"}),"\n",(0,i.jsx)(n.p,{children:"DDS is an Object Management Group (OMG) standard for data-centric publish-subscribe communication. ROS 2 uses DDS to provide:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Discovery"}),": Automatic node and topic discovery"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Quality of Service"}),": Configurable reliability, durability, and deadline policies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security"}),": Built-in authentication and encryption"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance"}),": Low latency, high throughput"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation-guide-for-ubuntu-2204",children:"Installation Guide for Ubuntu 22.04"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Update system\r\nsudo apt update && sudo apt upgrade -y\r\n\r\n# Install locale\r\nsudo apt install locales\r\nsudo locale-gen en_US en_US.UTF-8\r\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\r\nexport LANG=en_US.UTF-8\n"})}),"\n",(0,i.jsx)(n.h3,{id:"install-ros-2-humble",children:"Install ROS 2 Humble"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Add ROS 2 apt repository\r\nsudo apt install software-properties-common\r\nsudo add-apt-repository universe\r\nsudo apt update && sudo apt install curl -y\r\n\r\n# Add ROS 2 GPG key\r\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -\r\n\r\n# Add ROS 2 repository\r\nsudo sh -c 'echo \"deb [arch=$(dpkg --print-architecture)] http://packages.ros.org/ros2/ubuntu $(lsb_release -cs) main\" > /etc/apt/sources.list.d/ros2-latest.list'\r\n\r\n# Install ROS 2\r\nsudo apt update\r\nsudo apt install ros-humble-desktop -y\r\n\r\n# Install development tools\r\nsudo apt install python3-colcon-common-extensions python3-argcomplete -y\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,i.jsxs)(n.p,{children:["Add to your ",(0,i.jsx)(n.code,{children:"~/.bashrc"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Source ROS 2\r\nsource /opt/ros/humble/setup.bash\r\n\r\n# Optional: Source workspace\r\n# source ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,i.jsx)(n.p,{children:"Verify installation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check ROS 2 version\r\nros2 --version\r\n\r\n# List available packages\r\nros2 pkg list\r\n\r\n# Test installation\r\nros2 run demo_nodes_cpp talker\r\n# In another terminal:\r\nros2 run demo_nodes_cpp listener\n"})}),"\n",(0,i.jsx)(n.h3,{id:"common-installation-issues",children:"Common Installation Issues"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Issue 1: Locale errors"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Solution:\r\nexport LC_ALL=C\r\nsudo locale-gen en_US.UTF-8\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Issue 2: Package not found"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Solution: Update package lists\r\nsudo apt update\r\nsudo apt install --fix-missing\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Issue 3: Permission denied"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Solution: Check file permissions\r\nsudo chown -R $USER:$USER ~/ros2_ws\n"})}),"\n",(0,i.jsx)(n.h2,{id:"your-first-hello-world-node",children:'Your First "Hello World" Node'}),"\n",(0,i.jsx)(n.p,{children:'Let\'s create a simple ROS 2 node that publishes a "Hello World" message.'}),"\n",(0,i.jsx)(n.h3,{id:"step-1-create-workspace",children:"Step 1: Create Workspace"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws/src\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-create-package",children:"Step 2: Create Package"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_first_package --dependencies rclpy\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-3-create-node",children:"Step 3: Create Node"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"my_first_package/my_first_package/hello_world.py"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n"""\r\nHello World ROS 2 Node\r\n\r\nThis node demonstrates the basic structure of a ROS 2 node.\r\nIt publishes a simple message to demonstrate communication.\r\n"""\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass HelloWorldNode(Node):\r\n    """\r\n    A simple ROS 2 node that publishes "Hello World" messages.\r\n    \r\n    This class demonstrates:\r\n    - Node initialization\r\n    - Creating a publisher\r\n    - Publishing messages\r\n    - Using timers\r\n    """\r\n    \r\n    def __init__(self):\r\n        """\r\n        Initialize the HelloWorldNode.\r\n        \r\n        Creates a publisher for String messages on the \'hello_world\' topic.\r\n        Sets up a timer to publish messages every second.\r\n        """\r\n        # Initialize the parent Node class with the node name\r\n        super().__init__(\'hello_world_node\')\r\n        \r\n        # Create a publisher\r\n        # Topic name: \'hello_world\'\r\n        # Message type: String\r\n        # Queue size: 10 (number of messages to queue if subscribers are slow)\r\n        self.publisher_ = self.create_publisher(\r\n            String,\r\n            \'hello_world\',\r\n            10\r\n        )\r\n        \r\n        # Create a timer that calls timer_callback every 1.0 seconds\r\n        timer_period = 1.0  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        \r\n        # Counter to track message number\r\n        self.i = 0\r\n        \r\n        # Log that the node has started\r\n        self.get_logger().info(\'Hello World node has been started!\')\r\n    \r\n    def timer_callback(self):\r\n        """\r\n        Callback function called by the timer.\r\n        \r\n        Creates a String message, fills it with data, and publishes it.\r\n        """\r\n        # Create a new String message\r\n        msg = String()\r\n        \r\n        # Set the message data\r\n        msg.data = f\'Hello World: {self.i}\'\r\n        \r\n        # Publish the message\r\n        self.publisher_.publish(msg)\r\n        \r\n        # Log the published message\r\n        self.get_logger().info(f\'Publishing: "{msg.data}"\')\r\n        \r\n        # Increment counter\r\n        self.i += 1\r\n\r\n\r\ndef main(args=None):\r\n    """\r\n    Main function to run the node.\r\n    \r\n    This function:\r\n    1. Initializes ROS 2\r\n    2. Creates and runs the node\r\n    3. Spins the node (keeps it alive)\r\n    4. Shuts down ROS 2 when done\r\n    """\r\n    # Initialize ROS 2\r\n    rclpy.init(args=args)\r\n    \r\n    # Create the node\r\n    hello_world_node = HelloWorldNode()\r\n    \r\n    try:\r\n        # Spin the node (keeps it running and processes callbacks)\r\n        rclpy.spin(hello_world_node)\r\n    except KeyboardInterrupt:\r\n        # Handle Ctrl+C gracefully\r\n        hello_world_node.get_logger().info(\'Node interrupted by user\')\r\n    finally:\r\n        # Destroy the node explicitly\r\n        hello_world_node.destroy_node()\r\n        \r\n        # Shutdown ROS 2\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"step-4-make-executable",children:"Step 4: Make Executable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x my_first_package/my_first_package/hello_world.py\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-5-update-setuppy",children:"Step 5: Update setup.py"}),"\n",(0,i.jsxs)(n.p,{children:["Edit ",(0,i.jsx)(n.code,{children:"my_first_package/setup.py"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\r\n\r\npackage_name = 'my_first_package'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.0.1',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='Your Name',\r\n    maintainer_email='your.email@example.com',\r\n    description='My first ROS 2 package',\r\n    license='Apache-2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'hello_world = my_first_package.hello_world:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-6-build-and-run",children:"Step 6: Build and Run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select my_first_package\r\nsource install/setup.bash\r\n\r\n# Run the node\r\nros2 run my_first_package hello_world\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-7-test-the-node",children:"Step 7: Test the Node"}),"\n",(0,i.jsx)(n.p,{children:"In another terminal:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Listen to the topic\r\nros2 topic echo /hello_world\r\n\r\n# Check node info\r\nros2 node info /hello_world_node\r\n\r\n# List all topics\r\nros2 topic list\n"})}),"\n",(0,i.jsx)(n.h2,{id:"code-explanation",children:"Code Explanation"}),"\n",(0,i.jsx)(n.p,{children:"Let's break down the key components:"}),"\n",(0,i.jsx)(n.h3,{id:"1-import-statements",children:"1. Import Statements"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rclpy"}),": Python client library for ROS 2"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Node"}),": Base class for all ROS 2 nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"String"}),": Standard string message type"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-node-class",children:"2. Node Class"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class HelloWorldNode(Node):\r\n    def __init__(self):\r\n        super().__init__('hello_world_node')\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Inherits from ",(0,i.jsx)(n.code,{children:"Node"})," base class"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"super().__init__()"})," initializes the node with a name"]}),"\n",(0,i.jsx)(n.li,{children:"Node name must be unique in the system"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-publisher",children:"3. Publisher"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"self.publisher_ = self.create_publisher(\r\n    String,        # Message type\r\n    'hello_world', # Topic name\r\n    10             # Queue size\r\n)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creates a publisher for String messages"}),"\n",(0,i.jsx)(n.li,{children:"Topic name: where messages are published"}),"\n",(0,i.jsx)(n.li,{children:"Queue size: buffers messages if subscribers are slow"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-timer",children:"4. Timer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"self.timer = self.create_timer(\r\n    1.0,              # Period in seconds\r\n    self.timer_callback  # Callback function\r\n)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Executes callback function periodically"}),"\n",(0,i.jsx)(n.li,{children:"Non-blocking (doesn't stop other operations)"}),"\n",(0,i.jsxs)(n.li,{children:["Can be cancelled with ",(0,i.jsx)(n.code,{children:"timer.cancel()"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-main-function",children:"5. Main Function"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"rclpy.init(args=args)      # Initialize ROS 2\r\nrclpy.spin(node)           # Keep node alive\r\nrclpy.shutdown()           # Clean shutdown\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rclpy.init()"}),": Must be called before creating nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rclpy.spin()"}),": Blocks and processes callbacks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rclpy.shutdown()"}),": Cleans up resources"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-concepts-summary",children:"Key Concepts Summary"}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsx)(n.p,{children:"Nodes are executable processes that perform computation. Each node:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Has a unique name"}),"\n",(0,i.jsx)(n.li,{children:"Can publish/subscribe to topics"}),"\n",(0,i.jsx)(n.li,{children:"Can provide/use services"}),"\n",(0,i.jsx)(n.li,{children:"Can have parameters"}),"\n",(0,i.jsx)(n.li,{children:"Runs independently"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,i.jsx)(n.p,{children:"Topics are named buses for exchanging messages:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Publisher"}),": Sends messages to a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscriber"}),": Receives messages from a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Message Type"}),": Defines the data structure"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Asynchronous"}),": Publishers and subscribers are decoupled"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"messages",children:"Messages"}),"\n",(0,i.jsx)(n.p,{children:"Messages are data structures that define what information is exchanged:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Typed: Each message has a specific type"}),"\n",(0,i.jsx)(n.li,{children:"Structured: Can contain multiple fields"}),"\n",(0,i.jsx)(n.li,{children:"Versioned: Can evolve over time"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"common-errors-and-solutions",children:"Common Errors and Solutions"}),"\n",(0,i.jsx)(n.h3,{id:"error-1-node-name-already-exists",children:'Error 1: "Node name already exists"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Problem: Two nodes with same name\r\n# Solution: Use unique names or namespaces\r\nsuper().__init__('unique_node_name')\r\n# Or use namespace:\r\nsuper().__init__('my_namespace/hello_world_node')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"error-2-rclpyinit-not-called",children:'Error 2: "rclpy.init() not called"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Problem: Creating node before initialization\r\n# Solution: Always call rclpy.init() first\r\nrclpy.init(args=args)  # Must be first!\r\nnode = HelloWorldNode()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"error-3-topic-not-found",children:'Error 3: "Topic not found"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Problem: Topic name mismatch\r\n# Solution: Check topic names\r\nros2 topic list\r\nros2 topic echo /correct_topic_name\n"})}),"\n",(0,i.jsx)(n.h3,{id:"error-4-import-error",children:'Error 4: "Import error"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Problem: Missing dependencies\r\n# Solution: Add to package.xml and setup.py\r\n# In package.xml:\r\n<depend>rclpy</depend>\r\n<depend>std_msgs</depend>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsx)(n.h3,{id:"exercise-1-modify-hello-world",children:"Exercise 1: Modify Hello World"}),"\n",(0,i.jsx)(n.p,{children:"Modify the hello_world node to:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Publish messages every 0.5 seconds instead of 1.0"}),"\n",(0,i.jsx)(n.li,{children:"Include a timestamp in the message"}),"\n",(0,i.jsx)(n.li,{children:"Add a counter that resets every 10 messages"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import time\r\nfrom std_msgs.msg import String\r\n\r\ndef timer_callback(self):\r\n    msg = String()\r\n    msg.data = f'Hello World: {self.i} at {time.time()}'\r\n    self.publisher_.publish(msg)\r\n    self.i = (self.i + 1) % 10  # Reset every 10\n"})}),"\n",(0,i.jsx)(n.h3,{id:"exercise-2-create-a-subscriber",children:"Exercise 2: Create a Subscriber"}),"\n",(0,i.jsxs)(n.p,{children:["Create a new node that subscribes to ",(0,i.jsx)(n.code,{children:"/hello_world"})," and prints received messages."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class HelloWorldSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('hello_world_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'hello_world',\r\n            self.listener_callback,\r\n            10\r\n        )\r\n    \r\n    def listener_callback(self, msg):\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"exercise-3-custom-message",children:"Exercise 3: Custom Message"}),"\n",(0,i.jsx)(n.p,{children:"Create a custom message with multiple fields and use it in your node."}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand the basics, let's dive deeper into:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes and Topics"}),": Understanding the publish-subscribe pattern in detail"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services and Actions"}),": Request-response and long-running operations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),": Runtime configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Launch Files"}),": Orchestrating multiple nodes"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Continue to ",(0,i.jsx)(n.a,{href:"/physical-ai-textbook/docs/module-01-ros2/nodes-topics",children:"Chapter 2: Nodes and Topics"})," to learn about the communication patterns that make ROS 2 powerful."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);