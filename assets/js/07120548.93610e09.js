"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[3424],{6854:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"module-01-ros2/chapter-02-nodes-topics","title":"Chapter 2: Nodes and Topics","description":"Introduction","source":"@site/docs/module-01-ros2/chapter-02-nodes-topics.md","sourceDirName":"module-01-ros2","slug":"/module-01-ros2/chapter-02-nodes-topics","permalink":"/physical-ai-textbook/docs/module-01-ros2/chapter-02-nodes-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-01-ros2/chapter-02-nodes-topics.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3}}');var i=n(4848),t=n(8453);const o={sidebar_position:3},c="Chapter 2: Nodes and Topics",l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Understanding Nodes",id:"understanding-nodes",level:2},{value:"Understanding Topics",id:"understanding-topics",level:2},{value:"Creating a Publisher",id:"creating-a-publisher",level:2},{value:"Creating a Subscriber",id:"creating-a-subscriber",level:2},{value:"Running Nodes",id:"running-nodes",level:2},{value:"Inspecting Topics",id:"inspecting-topics",level:2},{value:"Custom Messages",id:"custom-messages",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"chapter-2-nodes-and-topics",children:"Chapter 2: Nodes and Topics"})}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"Nodes and topics form the foundation of ROS2's publish-subscribe communication pattern. This chapter explores how nodes communicate through topics."}),"\n",(0,i.jsx)(s.h2,{id:"understanding-nodes",children:"Understanding Nodes"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.strong,{children:"node"})," is a process that performs a specific task. Nodes can:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Publish messages to topics"}),"\n",(0,i.jsx)(s.li,{children:"Subscribe to topics to receive messages"}),"\n",(0,i.jsx)(s.li,{children:"Provide services"}),"\n",(0,i.jsx)(s.li,{children:"Call services from other nodes"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"understanding-topics",children:"Understanding Topics"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.strong,{children:"topic"})," is a named channel over which nodes exchange messages. Topics use a publish-subscribe pattern:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publisher"}),": Node that sends messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscriber"}),": Node that receives messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message"}),": Data structure sent over the topic"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"creating-a-publisher",children:"Creating a Publisher"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass PublisherNode(Node):\r\n    def __init__(self):\r\n        super().__init__('publisher_node')\r\n        self.publisher_ = self.create_publisher(String, 'chatter', 10)\r\n        timer_period = 0.5\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = f'Hello World: {self.i}'\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\r\n        self.i += 1\n"})}),"\n",(0,i.jsx)(s.h2,{id:"creating-a-subscriber",children:"Creating a Subscriber"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass SubscriberNode(Node):\r\n    def __init__(self):\r\n        super().__init__('subscriber_node')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'chatter',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n"})}),"\n",(0,i.jsx)(s.h2,{id:"running-nodes",children:"Running Nodes"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Terminal 1\r\nros2 run my_package publisher_node\r\n\r\n# Terminal 2\r\nros2 run my_package subscriber_node\n"})}),"\n",(0,i.jsx)(s.h2,{id:"inspecting-topics",children:"Inspecting Topics"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# List all topics\r\nros2 topic list\r\n\r\n# Echo a topic\r\nros2 topic echo /chatter\r\n\r\n# Get topic info\r\nros2 topic info /chatter\n"})}),"\n",(0,i.jsx)(s.h2,{id:"custom-messages",children:"Custom Messages"}),"\n",(0,i.jsxs)(s.p,{children:["You can create custom message types for your specific needs. Messages are defined in ",(0,i.jsx)(s.code,{children:".msg"})," files."]}),"\n",(0,i.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Use descriptive topic names"}),"\n",(0,i.jsx)(s.li,{children:"Choose appropriate message types"}),"\n",(0,i.jsx)(s.li,{children:"Set appropriate queue sizes"}),"\n",(0,i.jsx)(s.li,{children:"Handle message callbacks efficiently"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Create a publisher that sends sensor data"}),"\n",(0,i.jsx)(s.li,{children:"Create a subscriber that processes the sensor data"}),"\n",(0,i.jsx)(s.li,{children:"Experiment with different message types"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(s.p,{children:"In Chapter 3, we'll explore services and actions for more structured communication patterns."})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);