"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[6486],{4311:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"module-01-ros2/chapter-04-parameters","title":"Chapter 4: Parameters","description":"Introduction","source":"@site/docs/module-01-ros2/chapter-04-parameters.md","sourceDirName":"module-01-ros2","slug":"/module-01-ros2/chapter-04-parameters","permalink":"/physical-ai-textbook/docs/module-01-ros2/chapter-04-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/Zeenat-Somroo911/physical-ai-textbook/edit/main/docs/module-01-ros2/chapter-04-parameters.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5}}');var t=n(4848),i=n(8453);const s={sidebar_position:5},l="Chapter 4: Parameters",o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"What are Parameters?",id:"what-are-parameters",level:2},{value:"Declaring Parameters",id:"declaring-parameters",level:2},{value:"Setting Parameters",id:"setting-parameters",level:2},{value:"From Command Line",id:"from-command-line",level:3},{value:"From Launch File",id:"from-launch-file",level:3},{value:"From YAML File",id:"from-yaml-file",level:3},{value:"Parameter Types",id:"parameter-types",level:2},{value:"Parameter Descriptors",id:"parameter-descriptors",level:2},{value:"Parameter Constraints",id:"parameter-constraints",level:2},{value:"Querying Parameters",id:"querying-parameters",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"chapter-4-parameters",children:"Chapter 4: Parameters"})}),"\n",(0,t.jsx)(r.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(r.p,{children:"Parameters allow you to configure nodes at runtime without modifying code. This chapter covers parameter declaration, access, and management in ROS2."}),"\n",(0,t.jsx)(r.h2,{id:"what-are-parameters",children:"What are Parameters?"}),"\n",(0,t.jsx)(r.p,{children:"Parameters are key-value pairs that can be:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Set at node startup"}),"\n",(0,t.jsx)(r.li,{children:"Modified at runtime"}),"\n",(0,t.jsx)(r.li,{children:"Queried by other nodes"}),"\n",(0,t.jsx)(r.li,{children:"Saved and loaded from files"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"declaring-parameters",children:"Declaring Parameters"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass ParameterNode(Node):\r\n    def __init__(self):\r\n        super().__init__('parameter_node')\r\n        \r\n        # Declare parameters with default values\r\n        self.declare_parameter('my_string', 'world')\r\n        self.declare_parameter('my_int', 42)\r\n        self.declare_parameter('my_double', 3.14)\r\n        self.declare_parameter('my_bool', True)\r\n        \r\n        # Get parameter values\r\n        my_string = self.get_parameter('my_string').get_parameter_value().string_value\r\n        my_int = self.get_parameter('my_int').get_parameter_value().integer_value\r\n        \r\n        self.get_logger().info(f'String parameter: {my_string}')\r\n        self.get_logger().info(f'Integer parameter: {my_int}')\n"})}),"\n",(0,t.jsx)(r.h2,{id:"setting-parameters",children:"Setting Parameters"}),"\n",(0,t.jsx)(r.h3,{id:"from-command-line",children:"From Command Line"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"ros2 run my_package my_node --ros-args \\\r\n  -p my_string:=hello \\\r\n  -p my_int:=100\n"})}),"\n",(0,t.jsx)(r.h3,{id:"from-launch-file",children:"From Launch File"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='my_package',\r\n            executable='my_node',\r\n            parameters=[{\r\n                'my_string': 'hello',\r\n                'my_int': 100,\r\n                'my_double': 2.71\r\n            }]\r\n        )\r\n    ])\n"})}),"\n",(0,t.jsx)(r.h3,{id:"from-yaml-file",children:"From YAML File"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'my_node:\r\n  ros__parameters:\r\n    my_string: "hello"\r\n    my_int: 100\r\n    my_double: 2.71\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"Node(\r\n    package='my_package',\r\n    executable='my_node',\r\n    parameters=['path/to/config.yaml']\r\n)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"parameter-types",children:"Parameter Types"}),"\n",(0,t.jsx)(r.p,{children:"ROS2 supports these parameter types:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"bool"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"int"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"double"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"string"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"byte_array"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"bool_array"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"int_array"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"double_array"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"string_array"})}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"parameter-descriptors",children:"Parameter Descriptors"}),"\n",(0,t.jsx)(r.p,{children:"You can provide additional information about parameters:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from rclpy.parameter import ParameterDescriptor\r\n\r\ndescriptor = ParameterDescriptor(\r\n    description='A string parameter',\r\n    type=ParameterType.PARAMETER_STRING,\r\n    read_only=False\r\n)\r\nself.declare_parameter('my_string', 'default', descriptor)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"parameter-constraints",children:"Parameter Constraints"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from rcl_interfaces.msg import ParameterDescriptor, IntegerRange\r\n\r\ndescriptor = ParameterDescriptor(\r\n    description='An integer between 0 and 100',\r\n    integer_range=[IntegerRange(from_value=0, to_value=100, step=1)]\r\n)\r\nself.declare_parameter('my_int', 50, descriptor)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"querying-parameters",children:"Querying Parameters"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"# List all parameters\r\nros2 param list\r\n\r\n# Get parameter value\r\nros2 param get /my_node my_string\r\n\r\n# Set parameter at runtime\r\nros2 param set /my_node my_int 200\n"})}),"\n",(0,t.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Use descriptive parameter names"}),"\n",(0,t.jsx)(r.li,{children:"Provide meaningful default values"}),"\n",(0,t.jsx)(r.li,{children:"Document parameters with descriptors"}),"\n",(0,t.jsx)(r.li,{children:"Validate parameter values"}),"\n",(0,t.jsx)(r.li,{children:"Use parameter files for complex configurations"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"exercises",children:"Exercises"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"Create a node with multiple parameters"}),"\n",(0,t.jsx)(r.li,{children:"Load parameters from a YAML file"}),"\n",(0,t.jsx)(r.li,{children:"Implement parameter validation"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(r.p,{children:"Chapter 5 will cover launch files, which help orchestrate multiple nodes and configurations."})]})}function m(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>l});var a=n(6540);const t={},i=a.createContext(t);function s(e){const r=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(i.Provider,{value:r},e.children)}}}]);